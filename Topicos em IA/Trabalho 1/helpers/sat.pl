%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% SAT Solver script 

% Ex: ? sat([[1,2],[-1,-2],[-1,2]], [], V).
%       V = [-1,2]
%       true

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
sat_l(L, V, V) :-
    member(L, V), !.

sat_l(L, V0, V) :-
    L1 is -L,
    not(member(L1, V0)),
    append(V0, [L], V).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
sat_c([L|_], V0, V) :-
    sat_l(L, V0, V).

sat_c([_|C], V0, V) :-
    sat_c(C, V0, V).
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

sat([], V, V).

sat([C|F], V0, V) :-
    sat(F, V0, V1),
    sat_c(C, V1, V).